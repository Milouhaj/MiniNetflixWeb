<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Miniâ€‘Netflix Pro IPTV Local</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
body { background:#000; color:#fff; font-family:Arial,sans-serif; margin:0; padding:20px; }
#app { max-width:980px; margin:auto; }
h2 { text-align:center; margin-bottom:15px; }
#playlist { display:flex; overflow-x:auto; gap:10px; padding-bottom:10px; }
#playlist::-webkit-scrollbar { height:6px; }
#playlist::-webkit-scrollbar-thumb { background:#e50914; border-radius:10px; }
.card { min-width:150px; cursor:pointer; text-align:center; flex:0 0 auto; border-radius:12px; overflow:hidden; transition:0.3s; background:#111; }
.card:hover { transform:scale(1.05); }
.card img { width:100%; height:90px; object-fit:contain; background:#000; }
.card-title { margin-top:5px; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.card.active { outline:2px solid #e50914; }
video { width:100%; height:450px; background:#000; border-radius:12px; }
</style>
</head>
<body>

<div id="app">
<h2>ðŸŽ¬ Miniâ€‘Netflix Pro IPTV Local</h2>

<div id="currentTitle" style="text-align:center; font-weight:bold; margin-bottom:10px;">SÃ©lectionnez une chaÃ®ne</div>

<video id="video" controls autoplay></video>

<div id="playlist"></div>
</div>

<script>
const video = document.getElementById('video');
const playlistDiv = document.getElementById('playlist');
const currentTitle = document.getElementById('currentTitle');
let playlist = [];
let hls;

// ðŸ”¹ DÃ©clare tes fichiers M3U8 locaux ici
playlist = [
  { title: "Clerks III (2022)", url: "http://tv14s.xyz:8080/movie/BvQ3j3/899915/167751.mp4", poster: "https://via.placeholder.com/300x180?text=ChaÃ®ne+1" },
  { title: "ChaÃ®ne 2", url: "videos/chaine2.m3u8", poster: "https://via.placeholder.com/300x180?text=ChaÃ®ne+2" },
  // ajoute autant de chaÃ®nes locales que tu veux
];

// ðŸ”¹ Render la playlist
function renderPlaylist(list){
  playlistDiv.innerHTML="";
  list.forEach(item=>{
    const card = document.createElement('div');
    card.className='card';
    const img = document.createElement('img');
    img.src=item.poster;
    const title = document.createElement('div');
    title.className='card-title';
    title.textContent=item.title;
    card.appendChild(img);
    card.appendChild(title);
    card.onclick = () => {
      document.querySelectorAll('.card').forEach(c=>c.classList.remove('active'));
      card.classList.add('active');
      loadVideo(item);
    };
    playlistDiv.appendChild(card);
  });
}

// ðŸ”¹ Charger le flux HLS
function loadVideo(item){
  currentTitle.textContent = item.title;
  if(hls) hls.destroy();
  if(Hls.isSupported()){
    hls = new Hls();
    hls.loadSource(item.url);
    hls.attachMedia(video);
  } else if(video.canPlayType('application/vnd.apple.mpegurl')) video.src = item.url;
  video.play();
}

// ðŸ”¹ Initialise
renderPlaylist(playlist);
if(playlist.length>0) loadVideo(playlist[0]);
</script>

</body>
</html>
